# 竹取の翁Turtleの設計書

## Turtleの種類

- 竹取の翁

## 全体の大まかな設計

管制が竹取に指示を出す
    管制はSystemdで動かしてる
    管制と竹取の間はHTTP通信

## 起動処理

### 自分の現在の座標と向いている方角を確認

1. 管制システムにGPSが全て動いているかを問い合わせる(GET)
    - GPSが全部動いている場合：2へ進む
    - 動いていないGPSがある: 一定時間待機して再び1を行う
2. GPSで自分の現在の座標を確認する
3. １マス進んで元の場所に戻る
    - Xが1増えた->東, Zが1増えた->南

## メイン処理

1. 管制に自分情報を伝える(POST)
    - 位置座標 (X, Z)
    - 向いている方角 (NSEW)
    - 残燃料
    - Turtleの管制識別ID
2. 管制に命令を仰ぐ（POST)
    命令のフォーマットはspec.json確認
3. 2で受けた命令通りの処理を実行。動作中は常に1を実行する

### 管制から来る命令一覧

- go_forward
- turn_back
- turn_left
- turn_right
- empty_inventory
- refuel
